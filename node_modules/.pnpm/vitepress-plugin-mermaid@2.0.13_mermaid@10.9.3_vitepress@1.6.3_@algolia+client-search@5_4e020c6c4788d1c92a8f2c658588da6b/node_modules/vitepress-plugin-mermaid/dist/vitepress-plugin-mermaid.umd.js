(function(a,s){typeof exports=="object"&&typeof module<"u"?s(exports):typeof define=="function"&&define.amd?define(["exports"],s):(a=typeof globalThis<"u"?globalThis:a||self,s(a.MermaidPlugin={}))})(this,function(a){"use strict";const s=e=>{const n=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(i,r,t,d,v)=>{const l=i[r];if(l.info.trim()==="mermaid")try{return`
      <Suspense> 
      <template #default>
      <Mermaid id="mermaid-${r}"  graph="${encodeURIComponent(l.content)}"></Mermaid>
      </template>
        <!-- loading state via #fallback slot -->
        <template #fallback>
          Loading...
        </template>
      </Suspense>`}catch(m){return`<pre>${m}</pre>`}return l.info.trim()==="mmd"&&(i[r].info="mermaid"),n(i,r,t,d,v)}},p={securityLevel:"loose",startOnLoad:!1};function o(e){const n={...p,...e},i="virtual:mermaid-config",r="\0"+i;return{name:"vite-plugin-mermaid",enforce:"post",transform(t,d){if(d.includes("vitepress/dist/client/app/index.js"))return t=`
import Mermaid from 'vitepress-plugin-mermaid/Mermaid.vue';
`+t,t=t.replace("// install global components",`// install global components
		app.component('Mermaid', Mermaid);
`),{code:t,map:null}},async resolveId(t){if(t===i)return r},async load(t){if(t===r)return`export default ${JSON.stringify(n)};`}}}const u=e=>{e.markdown||(e.markdown={});const n=e.markdown.config||(()=>{});return e.markdown.config=(...i)=>{s(...i),n(...i)},e.vite||(e.vite={}),e.vite.plugins||(e.vite.plugins=[]),e.vite.plugins.push(o(e.mermaid)),e.vite.optimizeDeps||(e.vite.optimizeDeps={}),e.vite.optimizeDeps={...e.vite.optimizeDeps,include:["@braintree/sanitize-url","dayjs","debug","cytoscape-cose-bilkent","cytoscape"]},e.vite.resolve||(e.vite.resolve={}),e.vite.resolve.alias||(e.vite.resolve.alias={}),e.vite.resolve.alias={...e.vite.resolve.alias,"dayjs/plugin/advancedFormat.js":"dayjs/esm/plugin/advancedFormat","dayjs/plugin/customParseFormat.js":"dayjs/esm/plugin/customParseFormat","dayjs/plugin/isoWeek.js":"dayjs/esm/plugin/isoWeek","cytoscape/dist/cytoscape.umd.js":"cytoscape/dist/cytoscape.esm.js"},e};a.MermaidMarkdown=s,a.MermaidPlugin=o,a.withMermaid=u,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
